// Данные о шахматистах
const players = [
  {
    name: 'Магнус Карлсен',
    title: 'Гроссмейстер',
    rating: 2847,
    country: 'Норвегия',
    bestOpening: 'Итальянская партия',
    fideId: '1503014',
    rsfId: null,
    photoUrl: 'images/carlsen.jpg',
    bio: 'Магнус Карлсен родился 30 ноября 1990 года в Тёнсберге, Норвегия. Научился играть в шахматы в 5 лет, а в 13 лет стал гроссмейстером. В 2013 году завоевал титул чемпиона мира, победив Вишванатана Ананда, и удерживал этот титул до 2023 года. Карлсен известен своим универсальным стилем игры, феноменальной памятью и способностью извлекать преимущество из технически равных позиций. Он установил высший исторический рейтинг Эло 2882 и считается одним из величайших шахматистов всех времён.',
    achievements: 'Чемпион мира (2013-2023), многократный чемпион мира по рапиду и блицу (2014, 2015, 2019, 2022), высший исторический рейтинг 2882. Победитель более 15 супертурниров с 2010 года.',
    tournaments: 'Рекордное количество побед в супертурнирах: Вейк-ан-Зее (8 раз), Norway Chess (4 раза), турниры Grand Chess Tour, Мемориал Таля, London Chess Classic.',
    style: 'Универсальный стиль с великолепным пониманием эндшпиля и позиционной игры. Способен извлекать преимущество из равных позиций. Обладает исключительной интуицией и способностью к точным расчетам.'
  },
  {
    name: 'Ян Непомнящий',
    title: 'Гроссмейстер',
    rating: 2789,
    country: 'Россия',
    bestOpening: 'Сицилианская защита',
    fideId: '4168119',
    rsfId: '34168119',
    photoUrl: 'images/Ian.jpg',
    bio: 'Ян Непомнящий родился 14 июля 1990 года в Брянске, Россия. Начал играть в шахматы с 4 лет. В юношеские годы дважды становился чемпионом Европы среди юниоров (2007, 2008). Звание гроссмейстера получил в 2007 году. В 2021 году выиграл турнир претендентов, что дало ему право сыграть матч на первенство мира против Магнуса Карлсена, который он проиграл со счётом 3.5:7.5. В 2022 году вновь выиграл турнир претендентов. Является одним из сильнейших шахматистов мира, известен острым тактическим зрением и агрессивным стилем игры.',
    achievements: 'Победитель турнира претендентов (2021, 2022), чемпион Европы (2010), двукратный чемпион России (2010, 2020), четырехкратный победитель командного чемпионата мира в составе сборной России.',
    tournaments: 'Участник матча на первенство мира против Магнуса Карлсена в 2021 году. Победитель Кубка мира FIDE (2021), Победитель турнира Tata Steel Chess (2021), Победитель турнира Croatia Grand Chess Tour (2023), Чемпионат мира по рапиду и блицу - 1место',
    style: 'Тактический стиль с акцентом на острые тактические продолжения и активную игру фигурами.'
  },
  {
    name: 'Алиреза Фирузджа',
    title: 'Гроссмейстер',
    rating: 2777,
    country: 'Франция',
    bestOpening: 'Защита Грюнфельда',
    fideId: '12573981',
    rsfId: null,
    photoUrl: 'images/alireza.jpg',
    bio: 'Алиреза Фирузджа родился 18 июня 2003 года в Иране, сейчас выступает за Францию. Начал играть в шахматы в 8 лет, а в 12 лет стал чемпионом Ирана. В 2019 году в возрасте 16 лет преодолел рейтинговую отметку 2700, став вторым самым молодым шахматистом в истории, достигшим этого рубежа. Фирузджа известен своей невероятной скоростью расчета вариантов и творческим подходом к игре. Многие эксперты считают его наиболее вероятным претендентом на шахматную корону в будущем.',
    achievements: 'Победитель Grand Swiss 2021, серебряный призёр Tata Steel Chess 2021, второе место на турнире претендентов 2022. Самый молодой шахматист, достигший рейтинга 2800.',
    tournaments: 'Сильнейшие выступления на турнирах Вейк-ан-Зее, Norway Chess, Grand Swiss, победа в чемпионате Ирана в 16 лет.',
    style: 'Динамичный, активный стиль игры с великолепным тактическим зрением и нестандартным мышлением. Отличается смелым и агрессивным подходом, любит сложные позиции с обоюдными шансами.'
  },
  {
    name: 'Дин Лижэнь',
    title: 'Гроссмейстер',
    rating: 2780,
    country: 'Китай',
    bestOpening: 'Каталонское начало',
    fideId: '8603677',
    rsfId: null,
    photoUrl: 'images/ding.jpg',
    bio: 'Дин Лижэнь родился 24 октября 1992 года в провинции Чжэцзян, Китай. В шахматы научился играть в возрасте 4 лет. Титул гроссмейстера получил в 2009 году. Первым значительным международным успехом стала победа на чемпионате мира среди юниоров в 2009 году. В марте 2016 года вошел в топ-10 мирового рейтинга ФИДЕ. В 2019 году выиграл Кубок мира ФИДЕ. После победы в турнире претендентов 2022/23 встретился с Яном Непомнящим в матче за звание чемпиона мира и победил со счетом 8½:6½. В апреле 2023 года стал 17-м чемпионом мира по шахматам, первым из Китая. Является одним из лучших быстрых шахматистов мира.',
    achievements: 'Чемпион мира (2023-2024), победитель Кубка мира 2019, победитель турнира претендентов 2022/23, серебряный призер Олимпиады 2018 в составе сборной Китая. Первый китайский шахматист, преодолевший рубеж 2800 пунктов рейтинга.',
    tournaments: 'Победитель супертурниров в Шэньчжэне, Синкфилде. Чемпион мира среди юниоров 2009.',
    style: 'Позиционный стиль с глубоким стратегическим пониманием и точной техникой эндшпиля. Дин Лижэнь играет спокойно и уверенно, без лишнего риска. Он отлично разбирается в позициях любой сложности — может и атаковать, и крепко защищаться. Особенно силён в эндшпиле, где его точность сравнима с компьютерной. Его главная особенность — умение методично увеличивать малейшие преимущества. Он не спешит, не паникует в цейтноте и умеет выжидать, пока соперник допустит ошибку. При этом может неожиданно переходить в контратаку, если чувствует слабость в построениях оппонента. В отличие от многих топ-гроссмейстеров, Дин редко идёт на острые авантюры — его победы чаще всего результат терпеливой, выверенной игры. Это делает его крайне неудобным соперником: переиграть его в «спокойной» позиции почти невозможно, а навязать свою игру — очень сложно.'
  },
  {
    name: 'Аниш Гири',
    title: 'Гроссмейстер',
    rating: 2761,
    country: 'Нидерланды',
    bestOpening: 'Испанская партия',
    fideId: '24116068',
    rsfId: null,
    photoUrl: 'images/anish.jpg',
    bio: 'Аниш Гири родился 28 июня 1994 года в Санкт-Петербурге, Россия, в семье непальского отца и русской матери. Вырос в Нидерландах и представляет эту страну на международной арене. Получил звание гроссмейстера в 2009 году в возрасте 14 лет. Известен своей глубокой теоретической подготовкой и энциклопедическими знаниями дебютов. Также известен своим остроумием и активностью в социальных сетях.',
    achievements: 'В составе сборной Нидерландов — участник шести Олимпиад (2010—2024), 1-й номер среди шахматистов своей страны. Победитель командного чемпионата России 2017 в составе команды «Сибирь-Сириус». Многократный чемпион Нидерландов (2009, 2011, 2012, 2015, 2016, 2017). Вице-чемпион мира по рапиду (2021)',
    tournaments: 'Tata Steel Masters (2021, 2023), Qatar Masters Open (2014), Biel Chess Festival (2021), WR Masters (2022), FIDE Grand Prix Belgrade (2022), Reykjavik Open (2010), Dutch Championship (2009, 2011, 2012, 2015, 2016, 2017), Reggio Emilia (2011/12), Sharjah Masters (2017), Gashimov Memorial (2019 – рапид). uropean Team Championship (2017, 2021 – золото), Chess Olympiad (2016 – бронза), PRO Chess League (2018 – чемпион в составе «Canada Chessbrahs»)',
    style: 'Аниш Гири — универсальный игрок с безупречной дебютной подготовкой и глубоким позиционным пониманием, предпочитающий сложные, но контролируемые позиции без лишнего риска. Его стиль балансирует между стратегической точностью и гибкостью, позволяя ему успешно нейтрализовывать агрессию топ-соперников и переигрывать их в эндшпиле.'
  },
  {
    name: 'Сергей Карякин',
    title: 'Гроссмейстер',
    rating: 2750,
    country: 'Россия',
    bestOpening: 'Русская партия',
    fideId: '14109603',
    rsfId: '34109603',
    photoUrl: 'images/sergey.jpg',
    bio: 'Сергей Карякин родился 12 января 1990 года в Симферополе, Украина. До 2009 года выступал за Украину, затем принял российское гражданство. В 2002 году в возрасте 12 лет и 7 месяцев стал самым молодым гроссмейстером в истории шахмат, этот рекорд был побит только в 2021 году. В 2016 году выиграл турнир претендентов и сыграл матч на первенство мира против Магнуса Карлсена, в котором уступил только на тай-брейке. В том же году стал чемпионом мира по блицу. Известен как "Министр обороны" благодаря своим выдающимся защитным навыкам и умению спасать, казалось бы, безнадежные позиции. Активно пропагандирует развитие детских шахмат и много работает с юными талантами.',
    achievements: 'Претендент на звание чемпиона мира (2016), чемпион мира по рапиду (2012) и блицу (2016), двукратный победитель командного чемпионата мира в составе сборной России (2013, 2019). Обладатель Кубка мира 2015, финалист Кубка мира 2021. В 2004 году выиграл олимпиаду в составе сборной Украины, в 2010—2018 годах становился призёром, играя за сборную России. В 2009 году стал гражданином РФ, с 2010 года — членом сборной России. В 2014 году стал бронзовым призёром турнира претендентов. В 2016 году занял 1-е место на турнире претендентов, заработав путёвку на матч с Магнусом Карлсеном, который проиграл на тай-брейке. На турнире претендентов 2018 занял 3-е место. В 2021 году дошёл до финала Кубка мира и квалифицировался на следующий турнир претендентов, но из-за своей поддержки российского вторжения на Украину был дисквалифицирован на 6 месяцев, после чего отказался играть в международных турнирах под нейтральным флагом.',
    tournaments: 'Corus "B" (2009), Мемориал Таля (2012), Норвегия Chess (2013, 2014), World Cup (2015), Candidates Tournament (2016 – 2-е место), Мемориал Гашимова (2014, 2016), Гран-при ФИДЕ (2017), Poikovsky (2018), Gibraltar Masters (2017), Russian Championship (2012). World Blitz Championship (2012 – серебро), World Rapid Championship (2012 – бронза), Lindores Abbey Rapid (2020), Champions Chess Tour (2021 – этапы). Олимпиада (2010, 2012 – золото), European Team Championship (2011, 2013, 2017 – золото), World Team Championship (2013 – золото).',
    style: 'Сергей Карякин — универсальный игрок с безукоризненной техникой, сочетающий глубокое позиционное понимание с виртуозным расчетом вариантов. Его стиль отличается гибкостью: он одинаково силён в защите и контратаке, мастерски использует дебютные новинки и славится феноменальной выдержкой в эндшпиле.'
  },
  {
    name: 'Фабиано Каруана',
    title: 'Гроссмейстер',
    rating: 2786,
    country: 'США',
    bestOpening: 'Испанская партия',
    fideId: '2020009',
    rsfId: null,
    photoUrl: 'images/caruana.jpg',
    bio: 'Фабиано Каруана родился 30 июля 1992 года в Майами, США. Начал играть в шахматы в возрасте 5 лет. В 2007 году в возрасте 14 лет стал гроссмейстером. В 2014 году на турнире в Сент-Луисе показал феноменальный результат, набрав 8,5 очков из 10 возможных против сильнейших шахматистов мира, включая Магнуса Карлсена, с рейтингом перформанса 3103. В 2018 году выиграл турнир претендентов и сыграл матч на первенство мира против Магнуса Карлсена, который завершился со счетом 6:6 в классических партиях (поражение на тай-брейке).',
    achievements: 'Претендент на звание чемпиона мира 2018, победитель турнира претендентов 2018, многократный чемпион США, победитель Sinquefield Cup 2014 с рекордным результатом. В 2014 году выиграл Кубок Синкфилда, показав самый высокий перфоманс на элитном уровне — около 3100. В 2015 году снова стал играть за США, а спустя год выиграл чемпионат США. Выиграв Гран-при ФИДЕ 2014/2015, Каруана квалифицировался на турнир претендентов 2016, где занял 2-е место после Сергея Карякина. В 2018 году победил на турнире претендентов, став первым американцем со времён Роберта Фишера (1972), кому это удалось. В преддверии матча 2018 года Каруана выиграл Баден-Баден 2018 и разделил 1-е место в Кубке Синкфилда, но проиграл матч Магнусу Карлсену на стадии тай-брейка, завершив все 12 классических партий вничью. Впоследствии Каруана прошёл квалификацию и принял участие во всех следующих турнирах претендентов (2020—2021, 2022, 2024) В октябре 2014 года установил третий рейтинг ФИДЕ в истории (2844), занимая 2-е место в мире после Карлсена, в феврале 2020 года почти смог повторить рекорд — 2842. В ноябре 2018 года достиг рейтинга 2832 и отставал от рейтинга Карлсена всего на 3 пункта.',
    tournaments: 'Tata Steel (2014, 2016), Sinquefield Cup (2014, 2018, 2022), U.S. Championship (2002, 2007, 2008, 2010, 2012, 2016, 2020, 2022), Grenke Chess Classic (2015, 2019), Norway Chess (2018), Grand Chess Tour (2017, 2019), FIDE Grand Prix (2014–2015), Shamkir Chess (2019), Saint Louis Rapid & Blitz (2021, 2022).',
    style: 'Каруана Фабиано отличается универсальным, гибким стилем, сочетающим глубокую позиционную игру с точным расчетом вариантов. Он мастерски балансирует между стратегической подготовкой и тактической остротой, умело адаптируясь к стилю соперника. Его игра характеризуется высокой точностью, выдержкой и умением выжимать максимум даже из немного лучше позиций..'
  },
  {
    name: 'Хикару Накамура',
    title: 'Гроссмейстер',
    rating: 2768,
    country: 'США',
    bestOpening: 'Сицилианская защита',
    fideId: '2016192',
    rsfId: null,
    photoUrl: 'images/hikaru.jpg',
    bio: 'Хикару Накамура родился 9 декабря 1987 года в Хирацуке, Япония, в семье японско-американского происхождения. В возрасте двух лет его семья переехала в США. Шахматами начал заниматься в 7 лет под руководством отчима, ФИДЕ-мастера Сунила Вишванатана. В 2003 году в возрасте 15 лет и 79 дней стал самым молодым американским гроссмейстером, побив рекорд Бобби Фишера. Пятикратный чемпион США (2005, 2009, 2012, 2015, 2019). Один из сильнейших блиц-игроков в мире. В последние годы приобрёл огромную популярность как стример на платформе Twitch, где у него более 1,5 миллиона подписчиков. Его каналы на Twitch и YouTube значительно способствовали популяризации шахмат во время пандемии COVID-19.',
    achievements: 'Пятикратный чемпион США (2005, 2009, 2012, 2015, 2019), обладатель Кубка мира по рапиду 2018, финалист Кубка мира 2015. Один из самых популярных шахматных стримеров с более чем 1,5 млн подписчиков на Twitch.',
    tournaments: 'Турниры: U.S. Championship (2005, 2009, 2012, 2015, 2019, 2023), Tata Steel (2011, 2019), Gibraltar Chess (2015, 2016, 2018), Shamkir Chess (2015, 2018), GCT Sinquefield Cup (2021), Norway Chess Blitz (2020, 2023), Saint Louis Rapid & Blitz (2017, 2018, 2022, 2023), FIDE Grand Prix (2015), Chess.com Speed Championship (2021, 2023).',
    style: 'Хикару Накамура – блиц-король современности, сочетающий невероятную скорость расчета с креативным, атакующим стилем, особенно опасный в динамичных позициях. Его игра полна неожиданных жертв и психологического давления, а в классике он балансирует между агрессией и прагматизмом, часто переигрывая соперников в эндшпиле..'
  },
  {
    name: 'Вишванатан Ананд',
    title: 'Гроссмейстер',
    rating: 2754,
    country: 'Индия',
    bestOpening: 'Сицилианская защита',
    fideId: '5000017',
    rsfId: null,
    photoUrl: 'images/anand.jpg',
    bio: 'Вишванатан Ананд родился 11 декабря 1969 года в Майлапуре, Индия. Научился играть в шахматы в возрасте 6 лет. В 1988 году стал первым гроссмейстером из Индии. Был чемпионом мира по шахматам с 2000 по 2002 год и с 2007 по 2013 год. Известен как "Тигр из Мадраса" за свою быстроту мышления и агрессивный стиль игры в молодости. Считается одним из величайших шахматистов всех времен и национальным героем Индии.',
    achievements: 'В 2000 году выиграл чемпионат мира по нокаут-системе и стал чемпионом мира по версии ФИДЕ. В финальном матче, который проводился в Тегеране, Ананд победил Алексея Широва со счётом 3½:½. В сентябре 2007 года в Мехико (через год после преодоления раскола в шахматном мире и проведения объединительного матча между чемпионом мира по версии ПША россиянином Владимиром Крамником и чемпионом мира по версии ФИДЕ болгарином Веселином Топаловым) проводится чемпионат мира в форме двухкругового супертурнира XXI категории. Ананд выигрывает этот турнир — чемпионат мира в Мексике с результатом в 9 очков из 14 (+4-0=10), опередив на одно очко Владимира Крамника, Бориса Гельфанда, а также Петера Леко, Левона Ароняна, Александра Морозевича, Александра Грищука и Петра Свидлера.Ананд сохранял титул чемпиона мира по шахматам, трижды защитив его в матчах 2008, 2010 и 2012 годов. Виши Ананд — пока единственный в истории шахматист, кто завоёвывал высший титул в соревнованиях с тремя разными форматами: в турнире по нокаут-системе (2000 год), в круговом турнире (2007 год) и в очных матчах с претендентами. Выиграв турнир в Линаресе в феврале-марте 2007 года, Ананд впервые в своей карьере вышел на первое место в мировом рейтинг-листе ФИДЕ (за апрель 2007 года) и оставался 1-м номером рейтинг-листа по июль 2008. Затем, вновь возглавлял рейтинг — лист ФИДЕ с 1.11.2010 по 1.01.2011 и с 1.03.2011 по 1.07.2011.Ананд является шестым в истории шахмат игроком, возглавившим мировой рейтинг-лист с момента его введения в 1970 году (другие пять — Бобби Фишер, Анатолий Карпов, Гарри Каспаров, Владимир Крамник и Веселин Топалов), и четвёртым игроком, достигшим рейтинга в 2800 (после Каспарова, Крамника и Топалова).',
    tournaments: 'Чемпион мира ФИДЕ (2000), Чемпион мира (2007, 2008, 2010, 2012), Tata Steel/Wijk aan Zee (1989, 1998, 2003, 2004, 2006), Linares (1998, 2007, 2008), Dortmund (1996, 2000, 2004), Melody Amber (1994, 1997, 2003, 2005, 2006), Grenke Chess Classic (2013, 2014), Bilbao Masters (2012), Moscow Tal Memorial (2011), Corsica Masters (2005, 2006). World Rapid Champion (2003, 2017), World Blitz Champion (2000, 2017), Norway Chess Blitz (2019), Leon Masters (2005, 2007, 2008, 2009, 2011). Чемпион Индии (1986, 1987, 1988, 1991, 2000), Олимпиада (2014 – серебро в составе Индии), Asian Team Championship (2003, 2005).',
    style: 'Универсальный стиль с акцентом на быстроту принятия решений и интуитивное понимание позиции. Отличается скоростью расчета и способностью быстро адаптироваться к различным типам позиций. Ананд одинаково силён в тактических осложнениях и позиционной игре, мастерски переключаясь между агрессией и техникой. Его игра в быстрых шахматах (особенно в рапиде и блице) стала эталоном благодаря интуитивным жертвам и скорости принятия решений.'
  },
];

// Инициализация страницы с оптимизацией производительности
document.addEventListener('DOMContentLoaded', () => {
  console.log('DOM полностью загружен, вызываем displayPlayers()');
  displayPlayers();
});

// Функция для динамического отображения шахматистов
function displayPlayers() {
  console.log('Функция displayPlayers() вызвана');
  const playersGrid = document.getElementById('playersGrid');
  if (!playersGrid) {
    console.error('Элемент #playersGrid не найден!');
    return;
  }

  playersGrid.innerHTML = ''; // Очищаем контейнер перед добавлением

  if (players && players.length > 0) {
    console.log('Найдено игроков:', players.length);
    players.forEach((player, index) => {
      const playerCard = document.createElement('div');
      playerCard.classList.add('player-card');
      playerCard.innerHTML = `
        <div class="player-card-header">
          <div class="player-thumbnail-wrapper">
            <img src="${player.photoUrl}" alt="${player.name}" class="player-thumbnail" onerror="this.src='images/placeholder.jpg'">
          </div>
          <div class="player-card-info">
            <h3>${player.name}</h3>
            <p class="player-title">${player.title}</p>
            <p class="player-rating">Рейтинг: ${player.rating}</p>
            <p class="player-country">${player.country}</p>
          </div>
        </div>
        <div class="player-card-bio">
          <p>${player.bio}</p>
          <div class="card-actions">
            <a href="players/player-detail.html?id=${index}" class="read-more-btn">
              Подробнее <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      `;
      playerCard.addEventListener('click', function(event) {
        // Если клик был по ссылке "Подробнее", то переходим по ссылке
        if (event.target.closest('.read-more-btn')) {
          return;
        }
        // В противном случае, переходим на страницу деталей игрока
        window.location.href = `players/player-detail.html?id=${index}`;
      });
      playersGrid.appendChild(playerCard);
    });
  } else {
    console.warn('Массив players пуст или не определен.');
    playersGrid.innerHTML = '<p>Нет данных о шахматистах для отображения.</p>';
  }
}